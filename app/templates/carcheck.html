
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Used Car Price Authority</title>

    <link rel="stylesheet" href="/static/css/font-awesome.css">

    <!-- Bootstrap core CSS -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet">

    <!-- jQuery for dataTables -->
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.10/css/jquery.dataTables.css">

    <!-- Custom styles for this template -->
    <link href="/static/css/output.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="/static/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="site-wrapper">

      <div class="site-wrapper-inner">

        <div class="cover-container">
          <div class="masthead clearfix">
            <div class="inner">
              <h3 class="masthead-brand">
                <a href="{{ url_for('index') }}">Used Car Price Authority</a></h3>
              <nav>
                <ul class="nav masthead-nav">
                  <!-- <li><a href="{{ url_for('carcheck') }}">Check Car</a></li> -->
                  <li class="active"><a href="{{ url_for('index') }}"><i class="fa fa-home fa-lg"></i></a></li>

                  <li><a href="https://github.com/ayfu/">
                    <i class="fa fa-github fa-lg"></i></a></li>
                  <li><a href="https://www.linkedin.com/in/afu01">
                    <i class="fa fa-linkedin fa-lg"></i></a></li>

                </ul>
              </nav>
            </div>
          </div>

          <div class="inner">
              <p><br><br><br><br></p>
               <!-- <h2 class="cover-heading"><div {%if gooddeal == 1%}style="color:#347C2C"{% else %}class="baddeal"{% endif %}>{{suggestion}}</div></h2> -->
               <!-- <p><div {%if gooddeal == 1%}style="color:#347C2C"{% else %}class="baddeal"{% endif %}>This deal is in the top {{dealquality}}% of deals analyzed for {{site}}</div></p> -->

              <!-- <p></p> -->
              <!-- PLOT -->
              <div class="center-table" style="width:70%">
                <div id="plot"></div>
              </div>


             <!-- <div class="table-height"> -->
             <p></p>
            <div style = "margin-top:22%">
            <table border="0" style="width:50%;" class='center-table consistent-font'>
            <!-- <table border="5" class='table-height'>     -->
              <tr style="font-weight:bold">
                <td>Model</td>
                <td>Year</td>
                <td>Mileage</td>
                <td>Listed Price</td>
                <td>The Authority Price</td>
                <td>Savings</td>
             </tr>
              <tr>
                <td>{{entries['model']}}</td>
                <td>{{entries['year']}}</td>
                <td>{{entries['odometer']}}</td>
                <td>{{entries['price']}}</td>
                <td>{{entries['prediction']}}</td>
                <!-- <td {%if gooddeal == 1%}style="color:#347C2C"{% else %}class="baddeal"{% endif %}>{{entries['deal']}}</td> -->
                <td style = "color:{{color}}">{{entries['deal']}}</td>
              </tr>

          </table>
         </div>
         <!-- </div> -->
          <p><br></p>
          <form align="center" action="/carcheck" method="POST">
              <!-- width style also taken care of in cover.css file for the "input[type=text]" section" -->
             <input type="text" name="urlcall" style="width: 50%;" value={{url}}>
             <button type="submit" class="btn btn-lg btn-default">Submit</button>
             <!-- <p class="body"><font size = "2">Car Choices: Honda Civic, Toyota Corolla, Ford Focus, Chevy Cruze, Hyundai Elantra, Mazda 3, Kia Forte </font></p> -->

             <!-- <input type="submit" name="my-form" > -->
         </form>
          <button class = "btntbl consistent-font">Click here for recommended cars</button>
          <!-- <div class="center-table" style="width:80%"> -->
          <!-- <table id="table_id" class="display" border = "0"> -->
          <p><br></p>
          <table class="sortable center-table expandtbl1 consistent-font" border="0" style="width:50%;">
           <!-- <thead> -->
              <tr style="font-weight:bold">
                  <td>Model</td>
                  <td>Year</td>
                  <td>Mileage</td>
                  <td>Listed Price</td>
                  <td>The Authority Price</td>
                  <td>Savings</td>
                  <td>Link</td>
              </tr>
          <!-- </thead> -->
          <!-- <tbody class = "expandtbl1"> -->
              {% for df in rec %}
              <tr>
                  <td>{{df['model']}}</td>
                  <td>{{df['year']}}</td>
                  <td>{{df['odometer']}}</td>
                  <td>{{df['price']}}</td>
                  <td>{{df['prediction']}}</td>
                  <td style="color:#72B095">{{df['deal']}}</td>
                  <td><a href = {{df['url']}} style="color:blue;">link</a></td>
              </tr>
              {% endfor %}
         <!-- </tbody> -->
        </table>
    <!-- </div> -->
            <p><br></p>


          </div>

          <!--div class="mastfoot">
            <div class="inner">
              <p>Website designed using <a href="http://flask.pocoo.org/">Flask</a> and <a href="http://getbootstrap.com">Bootstrap</a>.</p>
            </div>
          </div-->

        </div>

      </div>

    </div>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="/static/js/collapsetable.js"></script>
    <script src="/static/js/bootstrap.min.js"></script>
    <!-- Sort table -->
    <script src="/static/js/sorttable.js"></script>
    <!-- Highcharts -->
    <script src="http://code.highcharts.com/highcharts.js"></script>
    <!-- jQuery datatables -->
    <script type="text/javascript" charset="utf8" src="//cdn.datatables.net/1.10.10/js/jquery.dataTables.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="/static/js/ie10-viewport-bug-workaround.js"></script>

    <script language="javascript">
    $(function () {
    $('#plot').highcharts({
        chart: {
            type: 'bar'
        },
        title: {
            text: '{{suggestion}}',
            style: {
                color: "{{color}}",
                fontSize: "25px",
                font: '25pt Trebuchet MS, Verdana, sans-serif'
            }
        },
        xAxis: {
            categories: ['Prices ($)'],
            labels:{
                style: {
                      fontSize:'20px'
            }
          },
            lineColor: 'transparent',
            lineWidth: 0,
            gridLineWidth: 0,
           minorGridLineWidth: 0,
           lineColor: 'transparent'
        },
        yAxis: {
            title: {
                text: '',
                style: {
                          color: Highcharts.getOptions().colors[1],
                          fontSize:'16px',
                          font: '16pt Trebuchet MS, Verdana, sans-serif'
                        }
            },
            labels: {
                //   style: {
                //     color: Highcharts.getOptions().colors[1],
                //     fontSize:'15px'
                //   }
                enabled: false
              },
            max: {{max_num}},
            min: {{min_num}},
            lineWidth: 0,
            gridLineWidth: 0,
            minorGridLineWidth: 0,
           lineColor: 'transparent'
        }, plotOptions: {
            series: {
                dataLabels: {
                    enabled: true,
                    align: 'right',
                    color: '#FFFFFF',
                    x: -10,
                    style: {
                        fontSize:'15px'
                    }
                },
                // pointPadding: 0.1,
                groupPadding: 0
            },

        },
        series: [{
            name: 'Listed Price',
            data: [{{price}}],
            color: "{{color}}"
        }, {
            name: 'The Authority Price',
            data: [{{pred}}],
            color: "#616161"
        }],
        legend: {
              itemStyle: {
                 fontSize:'16px',
                 font: '16pt Trebuchet MS, Verdana, sans-serif',
                 color: '#616161'
              },
              itemHiddenStyle: {
                 color: '#444'
              }

        }
       });
    });


    //    function (chart) { // on complete
       //
    //     chart.renderer.text("{{suggestion}}", 900, 50)
    //         .attr({
    //             rotation: 0
    //         })
    //         .css({
    //             color: "{{color}}",
    //             fontSize: '24px'
    //         })
    //         .add();}
    </script>
  </body>
</html>
